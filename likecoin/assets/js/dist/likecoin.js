!function(){"use strict";function t(t,e){return t(e={exports:{}},e.exports),e.exports}var y=t(function(t){var e=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=e)}),e=(y.version,y.JSON||(y.JSON={stringify:JSON.stringify})),d=function(t){return e.stringify.apply(e,arguments)},n=t(function(A){!function(t){var a,e=Object.prototype,s=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",r=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag",c=t.regeneratorRuntime;if(c)A.exports=c;else{(c=t.regeneratorRuntime=A.exports).wrap=g;var l="suspendedStart",p="suspendedYield",h="executing",v="completed",y={},u={};u[o]=function(){return this};var f=Object.getPrototypeOf,d=f&&f(f(P([])));d&&d!==e&&s.call(d,o)&&(u=d);var m=S.prototype=b.prototype=Object.create(u);_.prototype=m.constructor=S,S.constructor=_,S[i]=_.displayName="GeneratorFunction",c.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},c.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,S):(t.__proto__=S,i in t||(t[i]="GeneratorFunction")),t.prototype=Object.create(m),t},c.awrap=function(t){return{__await:t}},x(L.prototype),L.prototype[r]=function(){return this},c.AsyncIterator=L,c.async=function(t,e,n,r){var o=new L(g(t,e,n,r));return c.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},x(m),m[i]="Generator",m[o]=function(){return this},m.toString=function(){return"[object Generator]"},c.keys=function(n){var r=[];for(var t in n)r.push(t);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},c.values=P,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&s.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=a)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return i.type="throw",i.arg=n,r.next=t,e&&(r.method="next",r.arg=a),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var c=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&s.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=a),y}}}function g(t,e,n,r){var i,c,u,a,o=e&&e.prototype instanceof b?e:b,s=Object.create(o.prototype),f=new E(r||[]);return s._invoke=(i=t,c=n,u=f,a=l,function(t,e){if(a===h)throw new Error("Generator is already running");if(a===v){if("throw"===t)throw e;return T()}for(u.method=t,u.arg=e;;){var n=u.delegate;if(n){var r=k(n,u);if(r){if(r===y)continue;return r}}if("next"===u.method)u.sent=u._sent=u.arg;else if("throw"===u.method){if(a===l)throw a=v,u.arg;u.dispatchException(u.arg)}else"return"===u.method&&u.abrupt("return",u.arg);a=h;var o=w(i,c,u);if("normal"===o.type){if(a=u.done?v:p,o.arg===y)continue;return{value:o.arg,done:u.done}}"throw"===o.type&&(a=v,u.method="throw",u.arg=o.arg)}}),s}function w(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function b(){}function _(){}function S(){}function x(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function L(a){var e;this._invoke=function(n,r){function t(){return new Promise(function(t,e){!function e(t,n,r,o){var i=w(a[t],a,n);if("throw"!==i.type){var c=i.arg,u=c.value;return u&&"object"==typeof u&&s.call(u,"__await")?Promise.resolve(u.__await).then(function(t){e("next",t,r,o)},function(t){e("throw",t,r,o)}):Promise.resolve(u).then(function(t){c.value=t,r(c)},function(t){return e("throw",t,r,o)})}o(i.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}}function k(t,e){var n=t.iterator[e.method];if(n===a){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=a,k(t,e),"throw"===e.method))return y;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var r=w(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,y;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=a),e.delegate=null,y):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,y)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(s.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=a,t.done=!0,t};return r.next=r}}return{next:T}}function T(){return{value:a,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())}),r=function(){return this||"object"==typeof self&&self}()||Function("return this")(),o=r.regeneratorRuntime&&0<=Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime"),i=o&&r.regeneratorRuntime;r.regeneratorRuntime=void 0;var c=n;if(o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}var m=c,u=Math.ceil,a=Math.floor,s=function(t){return isNaN(t=+t)?0:(0<t?a:u)(t)},f=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},g=t(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),l=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},w=function(r,o,t){if(l(r),void 0===o)return r;switch(t){case 1:return function(t){return r.call(o,t)};case 2:return function(t,e){return r.call(o,t,e)};case 3:return function(t,e,n){return r.call(o,t,e,n)}}return function(){return r.apply(o,arguments)}},p=function(t){return"object"==typeof t?null!==t:"function"==typeof t},b=function(t){if(!p(t))throw TypeError(t+" is not an object!");return t},h=function(t){try{return!!t()}catch(t){return!0}},v=!h(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),_=g.document,S=p(_)&&p(_.createElement),x=function(t){return S?_.createElement(t):{}},L=!v&&!h(function(){return 7!=Object.defineProperty(x("div"),"a",{get:function(){return 7}}).a}),k=Object.defineProperty,O={f:v?Object.defineProperty:function(t,e,n){if(b(t),e=function(t,e){if(!p(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!p(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!p(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!p(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}(e,!0),b(n),L)try{return k(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},j=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},E=v?function(t,e,n){return O.f(t,e,j(1,n))}:function(t,e,n){return t[e]=n,t},P={}.hasOwnProperty,T=function(t,e){return P.call(t,e)},A="prototype",M=function(t,e,n){var r,o,i,c=t&M.F,u=t&M.G,a=t&M.S,s=t&M.P,f=t&M.B,l=t&M.W,p=u?y:y[e]||(y[e]={}),h=p[A],v=u?g:a?g[e]:(g[e]||{})[A];for(r in u&&(n=e),n)(o=!c&&v&&void 0!==v[r])&&T(p,r)||(i=o?v[r]:n[r],p[r]=u&&"function"!=typeof v[r]?n[r]:f&&o?w(i,g):l&&v[r]==i?function(r){var t=function(t,e,n){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(t);case 2:return new r(t,e)}return new r(t,e,n)}return r.apply(this,arguments)};return t[A]=r[A],t}(i):s&&"function"==typeof i?w(Function.call,i):i,s&&((p.virtual||(p.virtual={}))[r]=i,t&M.R&&h&&!h[r]&&E(h,r,i)))};M.F=1,M.G=2,M.S=4,M.P=8,M.B=16,M.W=32,M.U=64,M.R=128;var N,R=M,F=E,C={},G={}.toString,I=function(t){return G.call(t).slice(8,-1)},D=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==I(t)?t.split(""):Object(t)},q=function(t){return D(f(t))},V=Math.min,B=function(t){return 0<t?V(s(t),9007199254740991):0},H=Math.max,W=Math.min,U=t(function(t){var e="__core-js_shared__",n=g[e]||(g[e]={});(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:y.version,mode:"pure",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}),z=0,J=Math.random(),Q=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++z+J).toString(36))},K=U("keys"),Y=function(t){return K[t]||(K[t]=Q(t))},X=(N=!1,function(t,e,n){var r,o,i,c=q(t),u=B(c.length),a=(o=u,(r=s(r=n))<0?H(r+o,0):W(r,o));if(N&&e!=e){for(;a<u;)if((i=c[a++])!=i)return!0}else for(;a<u;a++)if((N||a in c)&&c[a]===e)return N||a||0;return!N&&-1}),Z=Y("IE_PROTO"),$="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),tt=Object.keys||function(t){return function(t,e){var n,r=q(t),o=0,i=[];for(n in r)n!=Z&&T(r,n)&&i.push(n);for(;e.length>o;)T(r,n=e[o++])&&(~X(i,n)||i.push(n));return i}(t,$)},et=v?Object.defineProperties:function(t,e){b(t);for(var n,r=tt(e),o=r.length,i=0;i<o;)O.f(t,n=r[i++],e[n]);return t},nt=g.document,rt=nt&&nt.documentElement,ot=Y("IE_PROTO"),it=function(){},ct="prototype",ut=function(){var t,e=x("iframe"),n=$.length;for(e.style.display="none",rt.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),ut=t.F;n--;)delete ut[ct][$[n]];return ut()},at=Object.create||function(t,e){var n;return null!==t?(it[ct]=b(t),n=new it,it[ct]=null,n[ot]=t):n=ut(),void 0===e?n:et(n,e)},st=t(function(t){var e=U("wks"),n=g.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:Q)("Symbol."+t))}).store=e}),ft=O.f,lt=st("toStringTag"),pt=function(t,e,n){t&&!T(t=n?t:t.prototype,lt)&&ft(t,lt,{configurable:!0,value:e})},ht={};E(ht,st("iterator"),function(){return this});var vt,yt=Y("IE_PROTO"),dt=Object.prototype,mt=Object.getPrototypeOf||function(t){return t=Object(f(t)),T(t,yt)?t[yt]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?dt:null},gt=st("iterator"),wt=!([].keys&&"next"in[].keys()),bt="values",_t=function(){return this},St=function(t,e,n,r,o,i,c){var u,a,s;a=e,s=r,(u=n).prototype=at(ht,{next:j(1,s)}),pt(u,a+" Iterator");var f,l,p,h=function(t){if(!wt&&t in m)return m[t];switch(t){case"keys":case bt:return function(){return new n(this,t)}}return function(){return new n(this,t)}},v=e+" Iterator",y=o==bt,d=!1,m=t.prototype,g=m[gt]||m["@@iterator"]||o&&m[o],w=g||h(o),b=o?y?h("entries"):w:void 0,_="Array"==e&&m.entries||g;if(_&&(p=mt(_.call(new t)))!==Object.prototype&&p.next&&pt(p,v,!0),y&&g&&g.name!==bt&&(d=!0,w=function(){return g.call(this)}),c&&(wt||d||!m[gt])&&E(m,gt,w),C[e]=w,C[v]=_t,o)if(f={values:y?w:h(bt),keys:i?w:h("keys"),entries:b},c)for(l in f)l in m||F(m,l,f[l]);else R(R.P+R.F*(wt||d),e,f);return f},xt=(vt=!0,function(t,e){var n,r,o=String(f(t)),i=s(e),c=o.length;return i<0||c<=i?vt?"":void 0:(n=o.charCodeAt(i))<55296||56319<n||i+1===c||(r=o.charCodeAt(i+1))<56320||57343<r?vt?o.charAt(i):n:vt?o.slice(i,i+2):r-56320+(n-55296<<10)+65536});St(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=xt(e,n),this._i+=t.length,{value:t,done:!1})});var Lt=function(t,e){return{value:e,done:!!t}};St(Array,"Array",function(t,e){this._t=q(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,Lt(1)):Lt(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");C.Arguments=C.Array;for(var kt=st("toStringTag"),Ot="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),jt=0;jt<Ot.length;jt++){var Et=Ot[jt],Pt=g[Et],Tt=Pt&&Pt.prototype;Tt&&!Tt[kt]&&E(Tt,kt,Et),C[Et]=C.Array}var At,Mt,Nt,Rt=st("toStringTag"),Ft="Arguments"==I(function(){return arguments}()),Ct=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Rt))?n:Ft?I(e):"Object"==(r=I(e))&&"function"==typeof e.callee?"Arguments":r},Gt=function(e,t,n,r){try{return r?t(b(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&b(o.call(e)),t}},It=st("iterator"),Dt=Array.prototype,qt=st("iterator"),Vt=y.getIteratorMethod=function(t){if(null!=t)return t[qt]||t["@@iterator"]||C[Ct(t)]},Bt=t(function(t){var h={},v={},e=t.exports=function(t,e,n,r,o){var i,c,u,a,s,f=o?function(){return t}:Vt(t),l=w(n,r,e?2:1),p=0;if("function"!=typeof f)throw TypeError(t+" is not iterable!");if(void 0===(s=f)||C.Array!==s&&Dt[It]!==s){for(u=f.call(t);!(c=u.next()).done;)if((a=Gt(u,l,c.value,e))===h||a===v)return a}else for(i=B(t.length);p<i;p++)if((a=e?l(b(c=t[p])[0],c[1]):l(t[p]))===h||a===v)return a};e.BREAK=h,e.RETURN=v}),Ht=st("species"),Wt=function(t,e){var n,r=b(t).constructor;return void 0===r||null==(n=b(r)[Ht])?e:l(n)},Ut=g.process,zt=g.setImmediate,Jt=g.clearImmediate,Qt=g.MessageChannel,Kt=g.Dispatch,Yt=0,Xt={},Zt="onreadystatechange",$t=function(){var t=+this;if(Xt.hasOwnProperty(t)){var e=Xt[t];delete Xt[t],e()}},te=function(t){$t.call(t.data)};zt&&Jt||(zt=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return Xt[++Yt]=function(){!function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}t.apply(n,e)}("function"==typeof t?t:Function(t),e)},At(Yt),Yt},Jt=function(t){delete Xt[t]},"process"==I(Ut)?At=function(t){Ut.nextTick(w($t,t,1))}:Kt&&Kt.now?At=function(t){Kt.now(w($t,t,1))}:Qt?(Nt=(Mt=new Qt).port2,Mt.port1.onmessage=te,At=w(Nt.postMessage,Nt,1)):g.addEventListener&&"function"==typeof postMessage&&!g.importScripts?(At=function(t){g.postMessage(t+"","*")},g.addEventListener("message",te,!1)):At=Zt in x("script")?function(t){rt.appendChild(x("script"))[Zt]=function(){rt.removeChild(this),$t.call(t)}}:function(t){setTimeout(w($t,t,1),0)});var ee={set:zt,clear:Jt},ne=ee.set,re=g.MutationObserver||g.WebKitMutationObserver,oe=g.process,ie=g.Promise,ce="process"==I(oe);function ue(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=l(n),this.reject=l(r)}var ae={f:function(t){return new ue(t)}},se=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},fe=g.navigator,le=fe&&fe.userAgent||"",pe=function(t,e){if(b(t),p(e)&&e.constructor===t)return e;var n=ae.f(t);return(0,n.resolve)(e),n.promise},he=st("species"),ve=st("iterator"),ye=!1;try{[7][ve]().return=function(){ye=!0}}catch(t){}var de,me,ge,we,be,_e,Se=ee.set,xe=function(){var n,r,o,t=function(){var t,e;for(ce&&(t=oe.domain)&&t.exit();n;){e=n.fn,n=n.next;try{e()}catch(t){throw n?o():r=void 0,t}}r=void 0,t&&t.enter()};if(ce)o=function(){oe.nextTick(t)};else if(!re||g.navigator&&g.navigator.standalone)if(ie&&ie.resolve){var e=ie.resolve(void 0);o=function(){e.then(t)}}else o=function(){ne.call(g,t)};else{var i=!0,c=document.createTextNode("");new re(t).observe(c,{characterData:!0}),o=function(){c.data=i=!i}}return function(t){var e={fn:t,next:void 0};r&&(r.next=e),n||(n=e,o()),r=e}}(),Le="Promise",ke=g.TypeError,Oe=g.process,je=Oe&&Oe.versions,Ee=je&&je.v8||"",Pe=g[Le],Te="process"==Ct(Oe),Ae=function(){},Me=me=ae.f,Ne=!!function(){try{var t=Pe.resolve(1),e=(t.constructor={})[st("species")]=function(t){t(Ae,Ae)};return(Te||"function"==typeof PromiseRejectionEvent)&&t.then(Ae)instanceof e&&0!==Ee.indexOf("6.6")&&-1===le.indexOf("Chrome/66")}catch(t){}}(),Re=function(t){var e;return!(!p(t)||"function"!=typeof(e=t.then))&&e},Fe=function(f,n){if(!f._n){f._n=!0;var r=f._c;xe(function(){for(var a=f._v,s=1==f._s,t=0,e=function(t){var e,n,r,o=s?t.ok:t.fail,i=t.resolve,c=t.reject,u=t.domain;try{o?(s||(2==f._h&&Ie(f),f._h=1),!0===o?e=a:(u&&u.enter(),e=o(a),u&&(u.exit(),r=!0)),e===t.promise?c(ke("Promise-chain cycle")):(n=Re(e))?n.call(e,i,c):i(e)):c(a)}catch(t){u&&!r&&u.exit(),c(t)}};r.length>t;)e(r[t++]);f._c=[],f._n=!1,n&&!f._h&&Ce(f)})}},Ce=function(i){Se.call(g,function(){var t,e,n,r=i._v,o=Ge(i);if(o&&(t=se(function(){Te?Oe.emit("unhandledRejection",r,i):(e=g.onunhandledrejection)?e({promise:i,reason:r}):(n=g.console)&&n.error&&n.error("Unhandled promise rejection",r)}),i._h=Te||Ge(i)?2:1),i._a=void 0,o&&t.e)throw t.v})},Ge=function(t){return 1!==t._h&&0===(t._a||t._c).length},Ie=function(e){Se.call(g,function(){var t;Te?Oe.emit("rejectionHandled",e):(t=g.onrejectionhandled)&&t({promise:e,reason:e._v})})},De=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),Fe(e,!0))},qe=function(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw ke("Promise can't be resolved itself");(n=Re(t))?xe(function(){var e={_w:r,_d:!1};try{n.call(t,w(qe,e,1),w(De,e,1))}catch(t){De.call(e,t)}}):(r._v=t,r._s=1,Fe(r,!1))}catch(t){De.call({_w:r,_d:!1},t)}}};Ne||(Pe=function(t){!function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!")}(this,Pe,Le,"_h"),l(t),de.call(this);try{t(w(qe,this,1),w(De,this,1))}catch(t){De.call(this,t)}},(de=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=function(t,e,n){for(var r in e)n&&t[r]?t[r]=e[r]:E(t,r,e[r]);return t}(Pe.prototype,{then:function(t,e){var n=Me(Wt(this,Pe));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=Te?Oe.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&Fe(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),ge=function(){var t=new de;this.promise=t,this.resolve=w(qe,t,1),this.reject=w(De,t,1)},ae.f=Me=function(t){return t===Pe||t===we?new ge(t):me(t)}),R(R.G+R.W+R.F*!Ne,{Promise:Pe}),pt(Pe,Le),_e="function"==typeof y[be=Le]?y[be]:g[be],v&&_e&&!_e[he]&&O.f(_e,he,{configurable:!0,get:function(){return this}}),we=y[Le],R(R.S+R.F*!Ne,Le,{reject:function(t){var e=Me(this);return(0,e.reject)(t),e.promise}}),R(R.S+!0*R.F,Le,{resolve:function(t){return pe(this===we?Pe:this,t)}}),R(R.S+R.F*!(Ne&&function(t,e){if(!e&&!ye)return!1;var n=!1;try{var r=[7],o=r[ve]();o.next=function(){return{done:n=!0}},r[ve]=function(){return o},t(r)}catch(t){}return n}(function(t){Pe.all(t).catch(Ae)})),Le,{all:function(t){var c=this,e=Me(c),u=e.resolve,a=e.reject,n=se(function(){var r=[],o=0,i=1;Bt(t,!1,function(t){var e=o++,n=!1;r.push(void 0),i++,c.resolve(t).then(function(t){n||(n=!0,r[e]=t,--i||u(r))},a)}),--i||u(r)});return n.e&&a(n.v),e.promise},race:function(t){var e=this,n=Me(e),r=n.reject,o=se(function(){Bt(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}}),R(R.P+R.R,"Promise",{finally:function(e){var n=Wt(this,y.Promise||g.Promise),t="function"==typeof e;return this.then(t?function(t){return pe(n,e()).then(function(){return t})}:e,t?function(t){return pe(n,e()).then(function(){throw t})}:e)}}),R(R.S,"Promise",{try:function(t){var e=ae.f(this),n=se(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}});var Ve=y.Promise;function Be(t,e,n,r,o,i,c){try{var u=t[i](c),a=u.value}catch(t){return void n(t)}u.done?e(a):Ve.resolve(a).then(r,o)}var He=function(u){return function(){var t=this,c=arguments;return new Ve(function(e,n){var r=u.apply(t,c);function o(t){Be(r,e,n,o,i,"next",t)}function i(t){Be(r,e,n,o,i,"throw",t)}o(void 0)})}},We=t(function(t){var e=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=e)}),Ue=(We.version,t(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)})),ze=t(function(t){var e="__core-js_shared__",n=Ue[e]||(Ue[e]={});(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:We.version,mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}),Je=0,Qe=Math.random(),Ke=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++Je+Qe).toString(36))},Ye=t(function(t){var e=ze("wks"),n=Ue.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:Ke)("Symbol."+t))}).store=e}),Xe=function(t){return"object"==typeof t?null!==t:"function"==typeof t},Ze=function(t){if(!Xe(t))throw TypeError(t+" is not an object!");return t},$e=function(t){try{return!!t()}catch(t){return!0}},tn=!$e(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),en=Ue.document,nn=Xe(en)&&Xe(en.createElement),rn=function(t){return nn?en.createElement(t):{}},on=!tn&&!$e(function(){return 7!=Object.defineProperty(rn("div"),"a",{get:function(){return 7}}).a}),cn=Object.defineProperty,un={f:tn?Object.defineProperty:function(t,e,n){if(Ze(t),e=function(t,e){if(!Xe(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!Xe(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!Xe(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!Xe(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}(e,!0),Ze(n),on)try{return cn(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},an=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},sn=tn?function(t,e,n){return un.f(t,e,an(1,n))}:function(t,e,n){return t[e]=n,t},fn=Ye("unscopables"),ln=Array.prototype;null==ln[fn]&&sn(ln,fn,{});var pn=function(t){ln[fn][t]=!0},hn=function(t,e){return{value:e,done:!!t}},vn={},yn={}.toString,dn=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==(e=t,yn.call(e).slice(8,-1))?t.split(""):Object(t);var e},mn=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},gn=function(t){return dn(mn(t))},wn={}.hasOwnProperty,bn=function(t,e){return wn.call(t,e)},_n=ze("native-function-to-string",Function.toString),Sn=t(function(t){var i=Ke("src"),e="toString",c=(""+_n).split(e);We.inspectSource=function(t){return _n.call(t)},(t.exports=function(t,e,n,r){var o="function"==typeof n;o&&(bn(n,"name")||sn(n,"name",e)),t[e]!==n&&(o&&(bn(n,i)||sn(n,i,t[e]?""+t[e]:c.join(String(e)))),t===Ue?t[e]=n:r?t[e]?t[e]=n:sn(t,e,n):(delete t[e],sn(t,e,n)))})(Function.prototype,e,function(){return"function"==typeof this&&this[i]||_n.call(this)})}),xn=function(r,o,t){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(r),void 0===o)return r;switch(t){case 1:return function(t){return r.call(o,t)};case 2:return function(t,e){return r.call(o,t,e)};case 3:return function(t,e,n){return r.call(o,t,e,n)}}return function(){return r.apply(o,arguments)}},Ln="prototype",kn=function(t,e,n){var r,o,i,c,u=t&kn.F,a=t&kn.G,s=t&kn.S,f=t&kn.P,l=t&kn.B,p=a?Ue:s?Ue[e]||(Ue[e]={}):(Ue[e]||{})[Ln],h=a?We:We[e]||(We[e]={}),v=h[Ln]||(h[Ln]={});for(r in a&&(n=e),n)i=((o=!u&&p&&void 0!==p[r])?p:n)[r],c=l&&o?xn(i,Ue):f&&"function"==typeof i?xn(Function.call,i):i,p&&Sn(p,r,i,t&kn.U),h[r]!=i&&sn(h,r,c),f&&v[r]!=i&&(v[r]=i)};Ue.core=We,kn.F=1,kn.G=2,kn.S=4,kn.P=8,kn.B=16,kn.W=32,kn.U=64,kn.R=128;var On,jn=kn,En=Math.ceil,Pn=Math.floor,Tn=function(t){return isNaN(t=+t)?0:(0<t?Pn:En)(t)},An=Math.min,Mn=Math.max,Nn=Math.min,Rn=ze("keys"),Fn=function(t){return Rn[t]||(Rn[t]=Ke(t))},Cn=(On=!1,function(t,e,n){var r,o,i,c,u=gn(t),a=0<(r=u.length)?An(Tn(r),9007199254740991):0,s=(i=a,(o=Tn(o=n))<0?Mn(o+i,0):Nn(o,i));if(On&&e!=e){for(;s<a;)if((c=u[s++])!=c)return!0}else for(;s<a;s++)if((On||s in u)&&u[s]===e)return On||s||0;return!On&&-1}),Gn=Fn("IE_PROTO"),In="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),Dn=Object.keys||function(t){return function(t,e){var n,r=gn(t),o=0,i=[];for(n in r)n!=Gn&&bn(r,n)&&i.push(n);for(;e.length>o;)bn(r,n=e[o++])&&(~Cn(i,n)||i.push(n));return i}(t,In)},qn=tn?Object.defineProperties:function(t,e){Ze(t);for(var n,r=Dn(e),o=r.length,i=0;i<o;)un.f(t,n=r[i++],e[n]);return t},Vn=Ue.document,Bn=Vn&&Vn.documentElement,Hn=Fn("IE_PROTO"),Wn=function(){},Un="prototype",zn=function(){var t,e=rn("iframe"),n=In.length;for(e.style.display="none",Bn.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),zn=t.F;n--;)delete zn[Un][In[n]];return zn()},Jn=Object.create||function(t,e){var n;return null!==t?(Wn[Un]=Ze(t),n=new Wn,Wn[Un]=null,n[Hn]=t):n=zn(),void 0===e?n:qn(n,e)},Qn=un.f,Kn=Ye("toStringTag"),Yn=function(t,e,n){t&&!bn(t=n?t:t.prototype,Kn)&&Qn(t,Kn,{configurable:!0,value:e})},Xn={};sn(Xn,Ye("iterator"),function(){return this});var Zn=Fn("IE_PROTO"),$n=Object.prototype,tr=Object.getPrototypeOf||function(t){return t=Object(mn(t)),bn(t,Zn)?t[Zn]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?$n:null},er=Ye("iterator"),nr=!([].keys&&"next"in[].keys()),rr="values",or=function(){return this},ir=function(t,e,n,r,o,i,c){var u,a,s;a=e,s=r,(u=n).prototype=Jn(Xn,{next:an(1,s)}),Yn(u,a+" Iterator");var f,l,p,h=function(t){if(!nr&&t in m)return m[t];switch(t){case"keys":case rr:return function(){return new n(this,t)}}return function(){return new n(this,t)}},v=e+" Iterator",y=o==rr,d=!1,m=t.prototype,g=m[er]||m["@@iterator"]||o&&m[o],w=g||h(o),b=o?y?h("entries"):w:void 0,_="Array"==e&&m.entries||g;if(_&&(p=tr(_.call(new t)))!==Object.prototype&&p.next&&(Yn(p,v,!0),"function"!=typeof p[er]&&sn(p,er,or)),y&&g&&g.name!==rr&&(d=!0,w=function(){return g.call(this)}),(nr||d||!m[er])&&sn(m,er,w),vn[e]=w,vn[v]=or,o)if(f={values:y?w:h(rr),keys:i?w:h("keys"),entries:b},c)for(l in f)l in m||Sn(m,l,f[l]);else jn(jn.P+jn.F*(nr||d),e,f);return f}(Array,"Array",function(t,e){this._t=gn(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,hn(1)):hn(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");vn.Arguments=vn.Array,pn("keys"),pn("values"),pn("entries");for(var cr=Ye("iterator"),ur=Ye("toStringTag"),ar=vn.Array,sr={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},fr=Dn(sr),lr=0;lr<fr.length;lr++){var pr,hr=fr[lr],vr=sr[hr],yr=Ue[hr],dr=yr&&yr.prototype;if(dr&&(dr[cr]||sn(dr,cr,ar),dr[ur]||sn(dr,ur,hr),vn[hr]=ar,vr))for(pr in ir)dr[pr]||Sn(dr,pr,ir[pr],!0)}var mr,gr,wr,br="https://api.like.co/api/users/challenge",_r=null,Sr=null;function xr(t){document.querySelectorAll(".likecoin".concat(t)).forEach(function(t){t.style.display=""})}function Lr(t){document.querySelectorAll(".likecoin".concat(t)).forEach(function(t){t.style.display="none"})}function kr(t){_r=t,document.querySelectorAll(".likecoin.webThreeError").forEach(function(t){t.style.display="none"}),xr(t)}function Or(){return jr.apply(this,arguments)}function jr(){return(jr=He(m.mark(function t(){return m.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(window.web3||window.ethereum){t.next=4;break}return kr(".needMetaMask"),console.error("no web3"),t.abrupt("return",!1);case 4:return Sr=new Web3(window.web3.currentProvider),t.abrupt("return",!0);case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Er(){return Pr.apply(this,arguments)}function Pr(){return(Pr=He(m.mark(function t(){return m.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Sr.eth.net.getNetworkType();case 2:if("main"!==t.sent)return kr(".needMainNet"),console.error("not mainnet"),t.abrupt("return",!1);t.next=7;break;case 7:return t.abrupt("return",!0);case 8:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Tr(){return Ar.apply(this,arguments)}function Ar(){return(Ar=He(m.mark(function t(){return m.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(window.ethereum&&window.ethereum.enable)return t.prev=1,t.next=4,window.ethereum.enable();t.next=12;break;case 4:t.next=12;break;case 6:return t.prev=6,t.t0=t.catch(1),kr(".needPermission"),console.error("no permission"),console.error(t.t0),t.abrupt("return",!1);case 12:return t.abrupt("return",!0);case 13:case"end":return t.stop()}},t,null,[[1,6]])}))).apply(this,arguments)}function Mr(){return Nr.apply(this,arguments)}function Nr(){return(Nr=He(m.mark(function t(){var e,n;return m.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Sr.eth.getAccounts();case 2:if((e=t.sent)&&e[0]){t.next=7;break}return kr(".needUnlock"),console.error("not unlocked"),t.abrupt("return",!1);case 7:return n=e[0],_r=null,t.abrupt("return",Sr.utils.toChecksumAddress(n));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Rr(t){return Fr.apply(this,arguments)}function Fr(){return(Fr=He(m.mark(function t(n){var r,o,i,c,u,a,s,f,l,p,h,v,y;return m.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=n.user,o=n.wallet,i=n.displayName,c=n.avatar,u=document.querySelector("#likecoinId"),a=document.querySelector("#likecoinWallet"),s=document.querySelector("#likecoinDisplayName"),f=document.querySelector("#likecoinAvatar"),l=document.querySelector("#likecoinPreview"),p=document.querySelector("input.likecoinId"),h=document.querySelector("input.likecoinDisplayName"),v=document.querySelector("input.likecoinWallet"),y=document.querySelector("input.likecoinAvatar"),u&&(u.innerHTML=r||"-"),a&&(a.innerHTML=((e=o)?"".concat(e.substr(0,6),"...").concat(e.substr(38,4)):e)||"-"),s&&(s.innerHTML=i||"-"),f&&(f.src=c||"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="),l&&(l.src=r?"https://button.like.co/in/embed/".concat(r,"/button?type=wp"):"about:blank"),p&&(p.value=r),v&&(v.value=o),h&&(h.value=i),y&&(y.value=c),Lr(".loginSection"),xr(".optionsSection");case 21:case"end":return t.stop()}var e},t)}))).apply(this,arguments)}function Cr(t){return Gr.apply(this,arguments)}function Gr(){return(Gr=He(m.mark(function t(e){var n,r;return m.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,xr(".loading"),t.next=4,jQuery.ajax({url:"".concat(br,"?wallet=").concat(e)});case 4:return n=t.sent,r=n.challenge,Lr(".loading"),kr(".needLogin"),t.abrupt("return",r);case 11:throw t.prev=11,t.t0=t.catch(0),Lr(".loading"),404===(t.t0||{}).status&&kr(".needLikeCoinId"),t.t0;case 16:case"end":return t.stop()}},t,null,[[0,11]])}))).apply(this,arguments)}function Ir(t){return Dr.apply(this,arguments)}function Dr(){return(Dr=He(m.mark(function t(e){var n,r,o,i,c,u,a,s,f,l,p,h,v;return m.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}throw new Error("cannot get web3 address");case 2:if(_r&&".needLogin"!==_r)throw new Error(_r);t.next=4;break;case 4:return t.next=6,Cr(e);case 6:return n=t.sent,t.next=9,Sr.eth.personal.sign(n,e);case 9:if(r=t.sent){t.next=12;break}throw new Error("No signature");case 12:return o=d({challenge:n,signature:r,wallet:e}),t.next=15,fetch(br,{body:o,headers:{"content-type":"application/json"},method:"POST"});case 15:return i=t.sent,t.next=18,i.json();case 18:c=t.sent,u=c.user,a=void 0===u?"":u,s=c.wallet,f=void 0===s?"":s,l=c.displayName,p=void 0===l?"":l,h=c.avatar,v=void 0===h?"":h,a?Rr({user:a,wallet:f,displayName:p,avatar:v}):(console.error("Error: user is undefined"),console.error(c));case 21:case"end":return t.stop()}},t)}))).apply(this,arguments)}function qr(){return Vr.apply(this,arguments)}function Vr(){return(Vr=He(m.mark(function t(){var e;return m.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Or();case 3:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,Er();case 7:if(t.sent){t.next=9;break}return t.abrupt("return");case 9:return t.next=11,Tr();case 11:if(t.sent){t.next=13;break}return t.abrupt("return");case 13:return t.next=15,Mr();case 15:if(e=t.sent)return t.next=19,Ir(e);t.next=19;break;case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(0),console.error(t.t0);case 24:case"end":return t.stop()}},t,null,[[0,21]])}))).apply(this,arguments)}function Br(){Rr({user:"",wallet:"",displayName:"",avatar:""})}mr=document.querySelector("#likecoinLoginBtn"),gr=document.querySelector("#likecoinChangeBtn"),wr=document.querySelector("#likecoinLogoutBtn"),mr&&mr.addEventListener("click",qr),gr&&gr.addEventListener("click",qr),wr&&wr.addEventListener("click",Br),Or({slient:!0})}();
//# sourceMappingURL=likecoin.js.map
