(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{102:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(55),a=n.n(r),s=n(39),c=(n(68),n(69),n(7)),o=n(3),l=n.n(o),d=n(10),u=n(97),b=n(4),j=n(8),p=n.n(j),O=n(54),h=n(2),k=n(5),f=n(0);var m=function(){return Object(f.jsx)("div",{style:{textAlign:"left"},children:Object(f.jsx)("button",{className:"likecoinSubmitButton",children:Object(h.a)("Confirm","likecoin")})})};var x=function(e){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{scope:"row",className:"optionTitle",children:Object(f.jsx)("label",{children:e.title})}),Object(f.jsxs)("td",{children:[Object(f.jsx)("input",{type:"checkbox",checked:e.checked,onChange:function(){e.handleCheck(!e.checked)},ref:e.checkRef,optionDetails:!0}),Object(f.jsx)("label",{className:"optionDetails",children:e.details})]})]})};var S=function(e){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{className:"optionTitle",scope:"row",children:Object(f.jsx)("label",{children:e.title})}),Object(f.jsx)("td",{children:Object(f.jsx)("select",{ref:e.selectRef,onChange:function(t){e.handleSelect(t.target.value)},value:e.selected,children:e.options.map((function(e){return Object(f.jsxs)("option",{value:e.value,children:[" ",e.label," "]},e.label)}))})})]})};var _=function(e){return Object(f.jsx)("h2",{style:{textAlign:"left"},children:e.title})};var v=function(e){return Object(f.jsx)("p",{ref:e.testRef,children:e.text})};var g=function(e){var t=Object(i.useRef)();return Object(f.jsx)("div",{children:Object(f.jsx)("form",{children:Object(f.jsx)("tr",{children:Object(f.jsxs)("label",{children:[e.isMainSettingPage&&Object(f.jsx)("th",{className:"optionTitle",children:Object(h.a)("Site Liker ID","likecoin")}),Object(f.jsxs)("td",{children:[Object(f.jsx)("table",{className:"form-table likecoinTable",children:Object(f.jsxs)("tbody",{children:[Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:Object(h.a)("Liker ID","likecoin")}),Object(f.jsx)("th",{children:Object(h.a)("Display Name","likecoin")}),Object(f.jsx)("th",{children:Object(h.a)("Wallet","likecoin")}),Object(f.jsx)("th",{children:" "})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:Object(f.jsxs)("div",{className:"avatarWrapper",children:[!e.isLoading&&e.likerAvatar.length>0&&"-"!==e.likerAvatar&&Object(f.jsx)("img",{id:"likecoinAvatar",className:"likecoinAvatar",src:e.likerAvatar,alt:"Avatar"}),e.likerIdValue.length>0&&"-"!==e.likerIdValue&&!e.isChangingTypingLiker&&Object(f.jsx)("a",{id:"likecoinId",rel:"noopener noreferrer",target:"_blank",href:"https://like.co/".concat(e.likerIdValue),className:"likecoin likecoinId",children:e.likerIdValue}),(0===e.likerIdValue.length||"-"===e.likerIdValue||e.isChangingTypingLiker)&&Object(f.jsxs)("div",{children:[Object(f.jsx)("input",{type:"text",id:"likecoinIdInputBox",ref:t,className:"likecoinInputBox",onChange:e.handleLikerIdInputChange}),Object(f.jsx)("p",{children:Object(f.jsx)("a",{id:"likecoinInputLabel",className:"likecoinInputLabel",target:"blacnk",rel:"noopener",href:"https://like.co/in",children:Object(h.a)("Sign Up / Find my Liker ID","likecoin")})})]})]})}),Object(f.jsx)("td",{children:!e.isLoading&&Object(f.jsx)(v,{text:e.likerDisplayName||"-"})}),Object(f.jsx)("td",{children:!e.isLoading&&Object(f.jsx)(v,{text:e.likerWalletAddress||"-"})}),Object(f.jsxs)("td",{className:"actions",children:[e.showChangeButton&&e.editable&&Object(f.jsx)("span",{className:"actionWrapper",children:Object(f.jsx)("a",{id:"likecoinChangeBtn",type:"button",onClick:e.handleClickOnChange,children:Object(h.a)("Change","likecoin")})}),e.showDisconnectButton&&e.editable&&Object(f.jsx)("span",{className:"actionWrapper",children:Object(f.jsx)("a",{id:"likecoinLogoutBtn",type:"button",onClick:e.handleDisconnect,children:Object(h.a)("Disconnect","likecoin")})})]})]})]})}),Object(f.jsx)("section",{className:"likecoin loading",children:0!==e.likerIdValue.length&&e.isLoading&&Object(h.a)("Loading...","likecoin")}),Object(f.jsx)("section",{children:"-"===e.likerAvatar&&!e.isLoading&&Object(f.jsx)("div",{className:"likecoin likecoinError userNotFound",children:Object(f.jsx)("h4",{children:Object(h.a)("Liker ID not found","likecoin")})})})]})]})})})})};var L=function(e){return Object(f.jsxs)("div",{className:"notice ".concat(e.className," is-dismissable"),children:[Object(f.jsx)("p",{children:Object(f.jsx)("strong",{children:e.text})}),Object(f.jsx)("button",{className:"notice-dismiss",id:"notice-dismiss",onClick:e.handleNoticeDismiss,children:Object(f.jsx)("span",{className:"screen-reader-text"})})]})};var y=function(){return Object(f.jsxs)("h1",{children:[" ",Object(h.a)("LikeCoin","likecoin")," "]})},I=n(32),w=n(13),E="likecoin/site_liker_info",D="".concat(window.wpApiSettings.root,"likecoin/v1/main-setting-page"),T={DBSiteLikerId:"",DBSiteLikerAvatar:"",DBSiteLikerDisplayName:"",DBSiteLikerWallet:"",DBSiteLikerIdEnabled:!1,DBDisplayOptionSelected:"None",DBPerPostOptionEnabled:!1},N={getSiteLikerInfo:function(e){return{type:"GET_SITE_LIKER_INFO",path:e}},setSiteLikerInfo:function(e){return{type:"SET_SITE_LIKER_INFO",info:e}},setHTTPErrors:function(e){return{type:"SET_ERROR_MESSAGE",errorMsg:e}},postSiteLikerInfo:l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,{type:"POST_SITE_LIKER_INFO_TO_DB",data:t};case 2:return e.next=4,{type:"CHANGE_SITE_LIKER_INFO_GLOBAL_STATE",data:t};case 4:case"end":return e.stop()}}),e)}))},A={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SITE_LIKER_INFO":return{DBSiteLikerId:t.info.site_likecoin_user.likecoin_id,DBSiteLikerAvatar:t.info.site_likecoin_user.avatar,DBSiteLikerDisplayName:t.info.site_likecoin_user.display_name,DBSiteLikerWallet:t.info.site_likecoin_user.wallet,DBSiteLikerIdEnabled:t.info.site_likecoin_id_enbled,DBDisplayOptionSelected:t.info.button_display_option,DBPerPostOptionEnabled:t.info.button_display_author_override};case"CHANGE_SITE_LIKER_INFO_GLOBAL_STATE":return{DBSiteLikerId:t.data.siteLikerInfos.likecoin_id,DBSiteLikerAvatar:t.data.siteLikerInfos.avatar,DBSiteLikerDisplayName:t.data.siteLikerInfos.display_name,DBSiteLikerWallet:t.data.siteLikerInfos.wallet,DBSiteLikerIdEnabled:t.data.siteLikerIdEnabled,DBDisplayOptionSelected:t.data.displayOption,DBPerPostOptionEnabled:t.data.perPostOptionEnabled};default:return e}},controls:{GET_SITE_LIKER_INFO:function(e){return p.a.get(e.path,{headers:{"Content-Type":"application/json","X-WP-Nonce":window.wpApiSettings.nonce}})},POST_SITE_LIKER_INFO_TO_DB:function(e){return p.a.post(D,JSON.stringify(e.data),{headers:{"Content-Type":"application/json","X-WP-Nonce":window.wpApiSettings.nonce}})}},selectors:{selectSiteLikerInfo:function(e){return e}},resolvers:{selectSiteLikerInfo:l.a.mark((function e(){var t,n,i,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.getSiteLikerInfo(D);case 3:return t=e.sent,n=t.data.data,i=!("1"!==n.site_likecoin_id_enbled&&!0!==n.site_likecoin_id_enbled),r=!("1"!==n.button_display_author_override&&!0!==n.button_display_author_override),n.site_likecoin_id_enbled=i,n.button_display_author_override=r,e.abrupt("return",N.setSiteLikerInfo(n));case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",N.setHTTPErrors(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))},actions:N},P=Object(I.a)(E,A);Object(w.a)(P);var B=function(e){var t=Object(i.useRef)(),n=Object(i.useRef)(),r=Object(i.useRef)(),a=Object(O.a)((function(e){return e(E).selectSiteLikerInfo()})),s=a.DBSiteLikerId,c=a.DBSiteLikerAvatar,o=a.DBSiteLikerDisplayName,u=a.DBSiteLikerWallet,j=a.DBSiteLikerIdEnabled,v=a.DBDisplayOptionSelected,I=a.DBPerPostOptionEnabled,w=Object(i.useState)(j),D=Object(b.a)(w,2),T=D[0],N=D[1],A=Object(i.useState)(v),P=Object(b.a)(A,2),B=P[0],M=P[1],R=Object(i.useState)(I),C=Object(b.a)(R,2),W=C[0],U=C[1],G=Object(i.useState)(s),F=Object(b.a)(G,2),z=F[0],H=F[1],K=Object(i.useState)(o),J=Object(b.a)(K,2),V=J[0],X=J[1],Y=Object(i.useState)(u),q=Object(b.a)(Y,2),$=q[0],Q=q[1],Z=Object(i.useState)(c),ee=Object(b.a)(Z,2),te=ee[0],ne=ee[1],ie=Object(i.useState)(!1),re=Object(b.a)(ie,2),ae=re[0],se=re[1],ce=Object(i.useState)(!1),oe=Object(b.a)(ce,2),le=oe[0],de=oe[1],ue=Object(i.useState)(!1),be=Object(b.a)(ue,2),je=be[0],pe=be[1],Oe=[{value:"always",label:Object(h.a)("Page and Post","likecoin")},{value:"post",label:Object(h.a)("Post Only","likecoin")},{value:"none",label:Object(h.a)("None","likecoin")}],he=Object(i.useMemo)((function(){return Object(k.debounce)(function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return de(!1),se(!0),e.prev=2,e.next=5,p.a.get("https://api.like.co/users/id/".concat(t,"/min"));case 5:n=e.sent,H(n.data.user),X(n.data.displayName),Q(n.data.cosmosWallet),ne(n.data.avatar),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0),X("-"),Q("-"),ne("-");case 18:se(!1);case 19:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),500)}),[]);return Object(i.useEffect)((function(){he(z)}),[he,z]),Object(i.useEffect)((function(){N(j),M(v),U(I)}),[j,v,I]),Object(i.useEffect)((function(){H(s),X(o),Q(u),ne(c)}),[s,o,u,c]),Object(f.jsxs)("div",{className:"wrap likecoin",children:[Object(f.jsx)(y,{}),le&&"-"!==V&&Object(f.jsx)(L,{text:Object(h.a)("Settings Saved","likecoin"),className:"notice-success",handleNoticeDismiss:function(e){e.preventDefault(),de(!1)}}),le&&"-"===V&&Object(f.jsx)(L,{text:Object(h.a)("Site Liker ID is missing","likecoin"),className:"notice-error"}),Object(f.jsxs)("form",{onSubmit:function(i){de(!1),i.preventDefault();var a={siteLikerIdEnabled:t.current.checked,displayOption:n.current.value,perPostOptionEnabled:r.current.checked,siteLikerInfos:{likecoin_id:"-"===V?s:z,display_name:"-"===V?o:V,wallet:"-"===V?u:$,avatar:"-"===V?c:te}};try{e.onSubmit(a),de(!0),pe(!1)}catch(l){console.error("Error occured when saving to Wordpress DB: ",l),pe(!1)}},children:[Object(f.jsx)(_,{title:Object(h.a)("Site Liker ID","likecoin")}),Object(f.jsx)(x,{checked:T,handleCheck:N,title:Object(h.a)("Enable site Liker ID","likecoin"),details:Object(h.a)("Override all LikeCoin button with site Liker ID","likecoin"),checkRef:t}),T&&Object(f.jsx)(g,{likerIdValue:z,likerDisplayName:V,likerWalletAddress:$,likerAvatar:te,isLoading:ae,isChangingTypingLiker:je,handleClickOnChange:function(e){e.preventDefault(),pe(!0)},handleLikerIdInputChange:function(e){e.preventDefault(),pe(!0);var t=e.target.value;H(t)},handleDisconnect:function(){},editable:!0,isMainSettingPage:!0,showChangeButton:!0,showDisconnectButton:!1}),Object(f.jsx)(_,{title:Object(h.a)("Site LikeCoin button display setting","likecoin")}),Object(f.jsx)(S,{selected:B,handleSelect:M,title:Object(h.a)("Display option","likecoin"),selectRef:n,options:Oe}),Object(f.jsx)(x,{checked:W,handleCheck:U,title:Object(h.a)("Allow per Post option","likecoin"),details:Object(h.a)("Allow editors to customize display setting per post","likecoin"),checkRef:r}),Object(f.jsx)(m,{})]})]})};var M,R,C=function(){var e=Object(u.a)(E).postSiteLikerInfo;function t(){return(t=Object(d.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{e(n)}catch(i){console.error(i)}case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(f.jsx)("div",{children:Object(f.jsx)(B,{onSubmit:function(e){return t.apply(this,arguments)}})})};function W(){return W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},W.apply(this,arguments)}function U(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function G(e,t){var n=e.title,r=e.titleId,a=U(e,["title","titleId"]);return i.createElement("svg",W({enableBackground:"new 0 0 16 16",viewBox:"0 0 16 16",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,M||(M=i.createElement("path",{d:"m7.4 0h1.3 0.1c0.7 0.1 1.2 0.6 1.4 1.3 0.1 0.3 0.2 0.5 0.5 0.6 0.1 0.1 0.2 0.1 0.3 0 0.7-0.5 1.6-0.4 2.3 0.1l0.7 0.7c0.5 0.6 0.7 1.4 0.3 2.1-0.2 0.3-0.2 0.5-0.1 0.8 0.1 0.1 0.1 0.2 0.3 0.2 0.5 0.1 0.8 0.3 1.1 0.6 0.2 0.3 0.3 0.6 0.4 1v1.3 0.1c-0.2 0.7-0.6 1.2-1.3 1.4-0.3 0.1-0.5 0.2-0.6 0.5-0.1 0.2 0 0.3 0.1 0.4 0.5 0.7 0.4 1.6-0.1 2.3l-0.7 0.7c-0.6 0.5-1.4 0.7-2.1 0.2-0.3-0.2-0.5-0.2-0.8 0-0.1 0.1-0.2 0.1-0.2 0.3-0.1 0.6-0.4 1.1-1 1.4-0.3-0.1-0.5-0.1-0.7 0h-1.2-0.1c-0.7-0.1-1.3-0.6-1.4-1.3-0.1-0.3-0.2-0.5-0.5-0.6-0.2-0.1-0.3-0.1-0.4 0-0.7 0.5-1.6 0.4-2.3-0.1l-0.7-0.7c-0.5-0.6-0.7-1.4-0.3-2.1 0.2-0.3 0.2-0.5 0.1-0.8-0.1-0.1-0.1-0.2-0.3-0.2-0.8-0.1-1.3-0.6-1.5-1.4v-0.2-1.3-0.1c0.2-0.7 0.6-1.2 1.3-1.3 0.3-0.1 0.5-0.2 0.6-0.5 0.1-0.2 0.1-0.3 0-0.4-0.6-0.7-0.5-1.7 0.1-2.3l0.7-0.7c0.6-0.5 1.4-0.7 2.1-0.3 0.3 0.2 0.5 0.3 0.8 0.1 0.1-0.1 0.2-0.1 0.2-0.3 0.1-0.7 0.5-1.2 1.2-1.4 0.1 0 0.2-0.1 0.4-0.1zm7.6 8v-0.4c0-0.4-0.3-0.8-0.7-0.9-0.2 0-0.5-0.1-0.7-0.2-0.1 0-0.1-0.1-0.1-0.1-0.2-0.4-0.4-0.7-0.5-1.1v-0.2c0.1-0.2 0.2-0.4 0.4-0.6 0.2-0.3 0.2-0.8 0-1.1l-0.9-0.9c-0.2-0.2-0.4-0.2-0.6-0.1-0.1 0.1-0.2 0.1-0.3 0.2-0.2 0.1-0.4 0.3-0.7 0.4h-0.2c-0.4-0.1-0.7-0.3-1.1-0.4-0.1 0-0.1-0.1-0.1-0.1-0.1-0.3-0.1-0.5-0.2-0.7-0.1-0.5-0.4-0.8-0.9-0.8h-0.8c-0.5 0-0.8 0.3-0.9 0.8 0 0.2-0.1 0.4-0.2 0.6l-0.1 0.1c-0.4 0.1-0.8 0.3-1.2 0.4h-0.1c-0.2 0-0.4-0.1-0.6-0.3-0.3-0.2-0.8-0.2-1.1 0.1l-0.7 0.7c-0.3 0.3-0.3 0.7 0 1.1l0.3 0.6v0.1c-0.1 0.5-0.3 0.8-0.5 1.2l-0.1 0.1c-0.2 0.1-0.4 0.2-0.6 0.2-0.5 0.1-0.8 0.4-0.8 0.9v0.9c0 0.5 0.3 0.8 0.8 0.9 0.2 0 0.4 0.1 0.7 0.2l0.1 0.1c0.1 0.3 0.2 0.6 0.4 1v0.2c-0.1 0.2-0.2 0.4-0.4 0.6-0.2 0.3-0.2 0.8 0.1 1.1l0.7 0.7c0.3 0.3 0.7 0.3 1.1 0.1 0.2-0.1 0.4-0.2 0.6-0.4h0.1c0.4 0.1 0.7 0.3 1.1 0.5l0.1 0.1c0.1 0.2 0.2 0.5 0.2 0.7 0.2 0.4 0.5 0.7 1 0.7h0.9c0.5 0 0.8-0.3 0.9-0.8 0-0.2 0.1-0.4 0.2-0.7l0.1-0.1c0.4-0.2 0.7-0.3 1.1-0.5h0.1c0.2 0.1 0.4 0.2 0.6 0.4 0.3 0.2 0.8 0.2 1.1 0s0.5-0.5 0.7-0.7c0.3-0.3 0.3-0.7 0-1.1-0.1-0.2-0.2-0.4-0.4-0.6v-0.2c0.1-0.4 0.3-0.7 0.4-1.1 0-0.1 0.1-0.1 0.1-0.1 0.2-0.1 0.4-0.2 0.7-0.2 0.6 0 0.9-0.4 0.9-0.9v-0.4z"})),R||(R=i.createElement("path",{d:"m8 5.5c1.4 0 2.5 1.1 2.5 2.5s-1.1 2.5-2.5 2.5-2.5-1.1-2.5-2.5 1.1-2.5 2.5-2.5zm0 1c-0.8 0-1.5 0.7-1.5 1.5s0.7 1.5 1.5 1.5 1.5-0.7 1.5-1.5-0.7-1.5-1.5-1.5z"})))}var F=i.forwardRef(G);n.p;var z=function(e){var t=e.userLikerId.length>0?"https://button.like.co/in/embed/".concat(e.userLikerId,"/button?type=wp&integration=wordpress_plugin"):"";return Object(f.jsx)("section",{className:"likecoin optionsSection",children:Object(f.jsxs)("section",{className:"previewSection",children:[Object(f.jsx)("span",{style:{float:"left"},children:Object(h.a)("Preview","likecoin")}),Object(f.jsx)("a",{rel:"noopener noreferrer",target:"_blank",className:"icon",href:"https://like.co/in/settings",children:Object(f.jsx)(F,{})}),Object(f.jsx)("div",{className:"centerContainer",children:Object(f.jsx)("figure",{className:"likecoin-embed likecoin-button",children:Object(f.jsx)("iframe",{id:"likecoinPreview",scrolling:"no",frameborder:"0",style:{pointerEvents:"none",height:"212px",width:"500px"},src:t,title:"likecoinButtonIFrame"})})})]})})},H="likecoin/user_liker_info",K="".concat(window.wpApiSettings.root,"likecoin/v1/likecoin-button-page"),J={DBUserLikerId:"",DBUserLikerAvatar:"",DBUserLikerDisplayName:"",DBUserLikerWallet:""},V={getUserLikerInfo:function(e){return{type:"GET_USER_LIKER_INFO",path:e}},setUserLikerInfo:function(e){return{type:"SET_USER_LIKER_INFO",info:e}},setHTTPErrors:function(e){return{type:"SET_ERROR_MESSAGE",errorMsg:e}},postUserLikerInfo:l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,{type:"POST_USER_LIKER_INFO_TO_DB",data:t};case 2:return e.next=4,{type:"CHANGE_USER_LIKER_INFO_GLOBAL_STATE",data:t};case 4:case"end":return e.stop()}}),e)}))},X={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_LIKER_INFO":return{DBUserLikerId:t.info?t.info.likecoin_user.likecoin_id:"",DBUserLikerAvatar:t.info?t.info.likecoin_user.avatar:"",DBUserLikerDisplayName:t.info?t.info.likecoin_user.display_name:"",DBUserLikerWallet:t.info?t.info.likecoin_user.wallet:""};case"CHANGE_USER_LIKER_INFO_GLOBAL_STATE":return{DBUserLikerId:t.data.userLikerInfos.likecoin_id,DBUserLikerAvatar:t.data.userLikerInfos.avatar,DBUserLikerDisplayName:t.data.userLikerInfos.display_name,DBUserLikerWallet:t.data.userLikerInfos.wallet};default:return e}},controls:{GET_USER_LIKER_INFO:function(e){return p.a.get(e.path,{headers:{"Content-Type":"application/json","X-WP-Nonce":window.wpApiSettings.nonce}})},POST_USER_LIKER_INFO_TO_DB:function(e){return p.a.post(K,JSON.stringify(e.data),{headers:{"Content-Type":"application/json","X-WP-Nonce":window.wpApiSettings.nonce}})}},selectors:{selectUserLikerInfo:function(e){return e}},resolvers:{selectUserLikerInfo:l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V.getUserLikerInfo(K);case 3:return t=e.sent,n=t.data.data,e.abrupt("return",V.setUserLikerInfo(n));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",V.setHTTPErrors(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))},actions:V},Y=Object(I.a)(H,X);function q(e){var t=Object(i.useState)(e.DBSiteLikerIdEnabled),n=Object(b.a)(t,1)[0],r=Object(i.useState)(e.defaultLikerId),a=Object(b.a)(r,2),s=a[0],c=a[1],o=Object(i.useState)(e.defaultLikerDisplayName),u=Object(b.a)(o,2),j=u[0],O=u[1],x=Object(i.useState)(e.defaultLikerWalletAddress),S=Object(b.a)(x,2),v=S[0],I=S[1],w=Object(i.useState)(e.defaultLikerAvatar),E=Object(b.a)(w,2),D=E[0],T=E[1],N=Object(i.useState)(!1),A=Object(b.a)(N,2),P=A[0],B=A[1],M=Object(i.useState)(!1),R=Object(b.a)(M,2),C=R[0],W=R[1],U=Object(i.useState)(!1),G=Object(b.a)(U,2),F=G[0],H=G[1],K=Object(i.useState)(!1),J=Object(b.a)(K,2),V=J[0],X=J[1],Y=Object(i.useState)(!0),q=Object(b.a)(Y,2),$=q[0],Q=q[1],Z=Object(i.useState)(!1),ee=Object(b.a)(Z,2),te=ee[0],ne=ee[1],ie=Object(i.useMemo)((function(){return Object(k.debounce)(function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(B(!1),t){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,p.a.get("https://api.like.co/users/id/".concat(t,"/min"));case 6:n=e.sent,c(n.data.user),O(n.data.displayName),I(n.data.cosmosWallet),T(n.data.avatar),W(!1),X(!0),e.next=23;break;case 15:e.prev=15,e.t0=e.catch(3),W(!1),c(""),O(""),I(""),T(""),X(!1);case 23:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t){return e.apply(this,arguments)}}(),500)}),[]);return Object(i.useEffect)((function(){ie(s)}),[ie,s]),Object(i.useEffect)((function(){c(e.defaultLikerId),O(e.defaultLikerDisplayName),I(e.defaultLikerWalletAddress),T(e.defaultLikerAvatar),Q(!!e.defaultLikerId),ne(!!e.defaultLikerId),X(!!e.defaultLikerId)}),[e.defaultLikerId,e.defaultLikerDisplayName,e.defaultLikerWalletAddress,e.defaultLikerAvatar]),Object(f.jsxs)("div",{className:"wrap likecoin",children:[Object(f.jsx)(y,{}),P&&"-"!==j&&Object(f.jsx)(L,{text:Object(h.a)("Settings Saved","likecoin"),className:"notice-success",handleNoticeDismiss:function(e){e.preventDefault(),B(!1)}}),P&&"-"===j&&Object(f.jsx)(L,{text:Object(h.a)("Your Liker ID is missing","likecoin"),className:"notice-error"}),Object(f.jsx)(_,{title:Object(h.a)("Your Liker ID","likecoin")}),Object(f.jsxs)("form",{onSubmit:function(t){B(!1),t.preventDefault(),Q(!1);var n={userLikerInfos:{}};n.userLikerInfos.likecoin_id=s,n.userLikerInfos.display_name=j,n.userLikerInfos.wallet=v,n.userLikerInfos.avatar=D;try{e.postUserLikerInfo(n),B(!0),ne(!0),H(!1),Q(!0),ne(!0)}catch(i){console.error("Error occured when saving to Wordpress DB: ",i),H(!1),Q(!0)}},children:[Object(f.jsx)(g,{likerIdValue:s,likerDisplayName:j,likerWalletAddress:v,likerAvatar:D,isLoading:C,handleClickOnChange:function(e){e.preventDefault(),H(!0)},handleLikerIdInputChange:function(e){e.preventDefault(),H(!0),W(!0);var t=e.target.value;c(t)},isChangingTypingLiker:F,handleDisconnect:function(e){e.preventDefault(),c(""),O(""),I(""),T("")},hasValidLikecoinId:V,editable:!n,isMainSettingPage:!1,showChangeButton:$,showDisconnectButton:te}),Object(f.jsx)(_,{title:Object(h.a)("Your Likecoin button","likecoin")}),V&&Object(f.jsx)(z,{userLikerId:s,hasValidLikecoinId:V}),Object(f.jsx)(m,{})]})]})}Object(w.a)(Y);var $=function(){var e=Object(O.a)((function(e){return e(E).selectSiteLikerInfo()})),t=e.DBSiteLikerId,n=e.DBSiteLikerAvatar,r=e.DBSiteLikerDisplayName,a=e.DBSiteLikerWallet,s=e.DBSiteLikerIdEnabled,c=Object(O.a)((function(e){return e(H).selectUserLikerInfo()})),o=c.DBUserLikerId,l=c.DBUserLikerAvatar,d=c.DBUserLikerDisplayName,b=c.DBUserLikerWallet,j=Object(u.a)(H).postUserLikerInfo,p=Object(i.useMemo)((function(){return s?t:o}),[s,t,o]),h=Object(i.useMemo)((function(){return s?r:d}),[s,r,d]),k=Object(i.useMemo)((function(){return s?a:b}),[s,a,b]),m=Object(i.useMemo)((function(){return s?n:l}),[s,n,l]);return Object(f.jsx)(q,{DBSiteLikerIdEnabled:s,defaultLikerId:p,defaultLikerDisplayName:h,defaultLikerWalletAddress:k,defaultLikerAvatar:m,postUserLikerInfo:j})},Q=n(108);var Z=function(e){return Object(f.jsx)("a",{rel:"noopener noreferrer",target:"_blank",href:e.linkAddress,children:e.text})};var ee=function(){var e=Object(Q.a)(Object(h.a)("<Matters/> is a decentralized, cryptocurrency driven content creation and discussion platform. ","likecoin"),{Matters:Object(i.createElement)(Z,{text:Object(h.a)("Matters","likecoin"),linkAddress:"https://matters.news"})}),t=Object(Q.a)(Object(h.a)("By publishing on Matters, your articles will be stored to the distributed InterPlanetary File System (<IPFS/>) nodes and get rewarded. Take the first step to publish your creation and reclaim your ownership of data!","likecoin"),{IPFS:Object(i.createElement)(Z,{text:Object(h.a)("IPFS","likecoin"),linkAddress:"https://ipfs.io"})});return Object(f.jsxs)("div",{style:{textAlign:"left"},children:[Object(f.jsxs)("h2",{children:[Object(f.jsx)("a",{rel:"noopener noreferrer",target:"_blank",href:"https://matters.news",children:Object(f.jsx)("img",{height:"32",weight:"32",src:"https://matters.news/static/icon-144x144.png",alt:"matters-logo"})}),Object(h.a)("What is Matters.news?","likecoin")]}),Object(f.jsx)("p",{children:e}),Object(f.jsx)("p",{children:t})]})};var te=function(e){return Object(f.jsx)("form",{onSubmit:e.loginHandler,children:Object(f.jsx)("table",{className:"form-table",children:Object(f.jsxs)("tbody",{children:[Object(f.jsxs)("tr",{children:[Object(f.jsxs)("td",{children:[Object(f.jsx)("label",{for:"matters_id",children:Object(h.a)("Matters login email ","likecoin")}),Object(f.jsx)("input",{type:"text",name:"lc_matters_id",id:"matters_id",ref:e.mattersIdRef})]}),Object(f.jsxs)("td",{children:[Object(f.jsx)("label",{for:"matters_password",children:Object(h.a)("Password ","likecoin")}),Object(f.jsx)("input",{type:"password",name:"lc_matters_password",id:"matters_password",ref:e.mattersPasswordRef})]})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{className:"actions",style:{float:"left"},children:Object(f.jsx)("span",{className:"actionWrapper",style:{border:"0px"},children:Object(f.jsx)("input",{id:"lcMattersIdLoginBtn",type:"submit",value:"login"})})}),Object(f.jsx)("td",{children:Object(f.jsx)("span",{id:"lcMattersErrorMessage",children:e.mattersLoginError})})]})]})})})};var ne=function(e){return Object(f.jsx)("table",{className:"form-table",role:"presentation",children:Object(f.jsx)("tbody",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{scope:"row",children:Object(f.jsx)("label",{for:"site_matters_user",children:Object(h.a)("Connection Status","likecoin")})}),Object(f.jsx)("td",{children:Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{children:Object(f.jsxs)("b",{children:[e.siteMattersId.length>0&&Object(f.jsxs)(f.Fragment,{children:[Object(h.a)("Logged in as ","likecoin"),Object(f.jsxs)("a",{rel:"noopener noreferrer",target:"_blank",href:"https://matters.news/@".concat(e.siteMattersId),children:[e.siteMattersId,"    "]})]}),0===e.siteMattersId.length&&Object(f.jsxs)("b",{children:[" ",Object(h.a)("Not connected","likecoin")," "]})]})}),e.siteMattersId.length>0&&Object(f.jsx)("span",{className:"actionWrapper",style:{paddingLeft:"20px"},children:Object(f.jsx)("a",{id:"lcMattersIdLogoutButton",type:"button",onClick:e.handleMattersLogout,target:"_blank",href:"#",children:Object(h.a)("Logout","likecoin")})})]})})]})})})},ie=n(6),re="likecoin/site_matters",ae="".concat(window.wpApiSettings.root,"likecoin/v1/publish-setting-page"),se="".concat(window.wpApiSettings.root,"likecoin/v1/publish-setting-page/login-to-matters"),ce="".concat(window.wpApiSettings.root,"likecoin/v1/publish-setting-page/publish-options"),oe="".concat(window.wpApiSettings.root,"likecoin/v1/publish-setting-page/save-matters-login-data"),le={DBSiteMattersId:"",DBSiteMattersToken:"",DBSiteMattersAutoSaveDraft:!1,DBSiteMattersAutoPublish:!1,DBSiteMattersAddFooterLink:!1,DBISCNBadgeStyleOption:"None"},de={getSiteMattersOptions:function(e){return{type:"GET_SITE_MATTERS_OPTIONS",path:e}},setSiteMattersOptions:function(e){return{type:"SET_SITE_MATTERS_OPTIONS",options:e}},setHTTPErrors:function(e){return{type:"SET_ERROR_MESSAGE",errorMsg:e}},siteMattersLogin:l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,{type:"MATTERS_LOGIN",data:t};case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})),postSiteMattersOptions:l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,{type:"POST_MATTERS_LOGIN",data:t};case 2:return e.next=4,{type:"CHANGE_SITE_MATTERS_OPTIONS_GLOBAL_STATE",data:t};case 4:case"end":return e.stop()}}),e)})),postSiteMattersLoginData:l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,{type:"POST_SITE_MATTERS_USER_TO_DB",data:t};case 2:return e.next=4,{type:"CHANGE_SITE_MATTERS_USER_GLOBAL_STATE",data:t};case 4:case"end":return e.stop()}}),e)}))},ue={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SITE_MATTERS_OPTIONS":return{DBSiteMattersId:t.options.matters_id,DBSiteMattersToken:t.options.access_token,DBSiteMattersAutoSaveDraft:t.options.site_matters_auto_save_draft,DBSiteMattersAutoPublish:t.options.site_matters_auto_publish,DBSiteMattersAddFooterLink:t.options.site_matters_add_footer_link,DBISCNBadgeStyleOption:t.options.iscn_badge_style_option};case"CHANGE_SITE_MATTERS_OPTIONS_GLOBAL_STATE":return Object(ie.a)(Object(ie.a)({},e),{},{DBSiteMattersAutoSaveDraft:t.data.siteMattersAutoSaveDraft,DBSiteMattersAutoPublish:t.data.siteMattersAutoPublish,DBSiteMattersAddFooterLink:t.data.siteMattersAddFooterLink,DBISCNBadgeStyleOption:t.data.ISCNBadgeStyleOption});case"CHANGE_SITE_MATTERS_USER_GLOBAL_STATE":return Object(ie.a)(Object(ie.a)({},e),{},{DBSiteMattersId:t.data.mattersId,DBSiteMattersToken:t.data.accessToken});default:return e}},controls:{GET_SITE_MATTERS_OPTIONS:function(e){return p.a.get(e.path,{headers:{"Content-Type":"application/json","X-WP-Nonce":window.wpApiSettings.nonce}})},MATTERS_LOGIN:function(e){return p.a.post(se,JSON.stringify(e.data),{headers:{"Content-Type":"application/json","X-WP-Nonce":window.wpApiSettings.nonce}})},POST_SITE_MATTERS_OPTIONS_TO_DB:function(e){return p.a.post(ce,JSON.stringify(e.data),{headers:{"Content-Type":"application/json","X-WP-Nonce":window.wpApiSettings.nonce}})},POST_SITE_MATTERS_USER_TO_DB:function(e){return p.a.post(oe,JSON.stringify(e.data),{headers:{"Content-Type":"application/json","X-WP-Nonce":window.wpApiSettings.nonce}})}},selectors:{selectSiteMattersOptions:function(e){return e}},resolvers:{selectSiteMattersOptions:l.a.mark((function e(){var t,n,i,r,a,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de.getSiteMattersOptions(ae);case 3:return t=e.sent,n=t.data.data,i=t.data.data.site_matters_user?t.data.data.site_matters_user.matters_id:"",r=t.data.data.site_matters_user?t.data.data.site_matters_user.access_token:"",a=!("1"!==n.site_matters_auto_save_draft&&!0!==n.site_matters_auto_save_draft),s=!("1"!==n.site_matters_auto_publish&&!0!==n.site_matters_auto_publish),c=!("1"!==n.site_matters_add_footer_link&&!0!==n.site_matters_add_footer_link),n.matters_id=i,n.access_token=r,n.site_matters_auto_save_draft=a,n.site_matters_auto_publish=s,n.site_matters_add_footer_link=c,e.abrupt("return",de.setSiteMattersOptions(n));case 18:return e.prev=18,e.t0=e.catch(0),e.abrupt("return",de.setHTTPErrors(e.t0.message));case 21:case"end":return e.stop()}}),e,null,[[0,18]])}))},actions:de},be=Object(I.a)(re,ue);Object(w.a)(be);var je=function(){var e=Object(O.a)((function(e){return e(re).selectSiteMattersOptions()})),t=e.DBSiteMattersId,n=e.DBSiteMattersAutoSaveDraft,r=e.DBSiteMattersAutoPublish,a=e.DBSiteMattersAddFooterLink,s=e.DBISCNBadgeStyleOption,c=Object(u.a)(re),o=c.postSiteMattersOptions,j=c.siteMattersLogin,p=c.postSiteMattersLoginData,k=Object(i.useRef)(),v=Object(i.useRef)(),g=Object(i.useRef)(),I=Object(i.useRef)(),w=Object(i.useRef)(),E=Object(i.useRef)(),D=[{value:"light",label:Object(h.a)("Light Mode","likecoin")},{value:"dark",label:Object(h.a)("Dark Mode","likecoin")},{value:"none",label:Object(h.a)("None","likecoin")}],T=Object(i.useState)(!1),N=Object(b.a)(T,2),A=N[0],P=N[1],B=Object(i.useState)(t),M=Object(b.a)(B,2),R=M[0],C=M[1],W=Object(i.useState)(n),U=Object(b.a)(W,2),G=U[0],F=U[1],z=Object(i.useState)(r),H=Object(b.a)(z,2),K=H[0],J=H[1],V=Object(i.useState)(a),X=Object(b.a)(V,2),Y=X[0],q=X[1],$=Object(i.useState)(s),Q=Object(b.a)($,2),Z=Q[0],ie=Q[1],ae=Object(i.useState)(""),se=Object(b.a)(ae,2),ce=se[0],oe=se[1];function le(e){return de.apply(this,arguments)}function de(){return(de=Object(d.a)(l.a.mark((function e(t){var n,i,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j(t);case 3:if(n=e.sent){e.next=6;break}throw new Error("Calling Server failed.");case 6:if(!n.data.errors){e.next=11;break}return i="ERROR:",n.data.errors.length>0&&n.data.errors.forEach((function(e){if(e.message.indexOf("password")>0){var t=e.message.search("password");i=i.concat(e.message.slice(0,t).concat('password: "***"}'))}else i=i.concat(e.message)})),oe(i),e.abrupt("return");case 11:r={mattersId:n.data.viewer.userName,accessToken:n.data.userLogin.token},p(r),oe(""),C(r.mattersId),P(!0),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.error(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function ue(){return(ue=Object(d.a)(l.a.mark((function e(t){var n,i,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=k.current.value,i=v.current.value,r={mattersId:n,mattersPassword:i},e.next=6,le(r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(){return(be=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P(!1),t.preventDefault(),C(""),p({mattersId:"",accessToken:""}),P(!0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(){return(je=Object(d.a)(l.a.mark((function e(t){var n,i,r,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P(!1),t.preventDefault(),n=g.current.checked,i=I.current.checked,r=w.current.checked,a=E.current.value,s={siteMattersAutoSaveDraft:n,siteMattersAutoPublish:i,siteMattersAddFooterLink:r,ISCNBadgeStyleOption:a};try{o(s),P(!0)}catch(c){console.error("Error occured when saving to Wordpress DB: ",c),P(!1)}case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(i.useEffect)((function(){C(t),F(n),J(r),q(a),ie(s)}),[t,n,r,a,s]),Object(f.jsxs)("div",{className:"wrap likecoin",children:[Object(f.jsx)(y,{}),A&&Object(f.jsx)(L,{text:"Settings Saved",className:"notice-success",handleNoticeDismiss:function(e){e.preventDefault(),P(!1)}}),Object(f.jsx)(ee,{}),Object(f.jsx)(_,{title:Object(h.a)("Login with Matters ID","likecoin")}),Object(f.jsx)(te,{loginHandler:function(e){return ue.apply(this,arguments)},mattersIdRef:k,mattersPasswordRef:v,mattersLoginError:ce}),Object(f.jsxs)("form",{onSubmit:function(e){return je.apply(this,arguments)},children:[Object(f.jsx)(_,{title:Object(h.a)("Matters connection status","likecoin")}),Object(f.jsx)(ne,{siteMattersId:R,handleMattersLogout:function(e){return be.apply(this,arguments)}}),Object(f.jsx)(_,{title:Object(h.a)("Publish to Matters","likecoin")}),Object(f.jsx)("table",{className:"form-table",role:"presentation",children:Object(f.jsxs)("tbody",{children:[Object(f.jsx)(x,{checked:G,handleCheck:F,title:Object(h.a)("Auto save draft to Matters","likecoin"),details:Object(h.a)("Auto save draft to Matters","likecoin"),checkRef:g}),Object(f.jsx)(x,{checked:K,handleCheck:J,title:Object(h.a)("Auto publish post to Matters","likecoin"),details:Object(h.a)("Auto publish post to Matters","likecoin"),checkRef:I}),Object(f.jsx)(x,{checked:Y,handleCheck:q,title:Object(h.a)("Add post link in footer","likecoin"),details:Object(h.a)("Add post link in footer","likecoin"),checkRef:w})]})}),Object(f.jsx)(_,{title:Object(h.a)("Publish to ISCN","likecoin")}),Object(f.jsx)("table",{className:"form-table",role:"presentation",children:Object(f.jsx)(S,{selected:Z,handleSelect:ie,title:Object(h.a)("Show ISCN badge in post","likecoin"),selectRef:E,options:D})}),Object(f.jsx)(m,{})]})]})},pe=Object(Q.a)(Object(h.a)("<WebMonetization/> is an API that allows websites to request small payments from users facilitated by the browser and the user's Web Monetization provider.","likecoin"),{WebMonetization:Object(i.createElement)(Z,{text:Object(h.a)("Web Monetization","likecoin"),linkAddress:"https://webmonetization.org/"})}),Oe=Object(Q.a)(Object(h.a)("You would need to register a <PaymentPointer/> to enable web monetization. However LikeCoin is working hard to integrate web monetization natively into our ecosystem. Follow our latest progress <Here/>!","likecoin"),{PaymentPointer:Object(i.createElement)(Z,{text:Object(h.a)("payment pointer","likecoin"),linkAddress:"https://webmonetization.org/docs/ilp-wallets"}),Here:Object(i.createElement)(Z,{text:Object(h.a)("here","likecoin"),linkAddress:"https://community.webmonetization.org/likecoinprotocol"})});var he=function(){return Object(f.jsxs)("div",{style:{textAlign:"left"},children:[Object(f.jsx)("h2",{style:{margin:"20px 0"},children:Object(h.a)("What is Web Monetization?","likecoin")}),Object(f.jsx)("p",{children:pe}),Object(f.jsx)("p",{children:Oe})]})},ke="likecoin/web_monetization",fe="".concat(window.wpApiSettings.root,"likecoin/v1/web-monetization-page"),me={DBPaymentPointer:""},xe={setPaymentPointer:function(e){return{type:"SET_PAYMENT_POINTER",pointer:e}},getPaymentPointer:function(e){return{type:"GET_PAYMENT_POINTER",path:e}},setHTTPErrors:function(e){return{type:"SET_ERROR_MESSAGE",errorMsg:e}},postPaymentPointer:l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={paymentPointer:t},e.next=3,{type:"POST_TO_DB",data:n};case 3:return e.next=5,{type:"CHANGE_PAYMENT_POINTER_GLOBAL_STATE",data:n};case 5:case"end":return e.stop()}}),e)}))},Se={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PAYMENT_POINTER":return{DBPaymentPointer:t.pointer};case"CHANGE_PAYMENT_POINTER_GLOBAL_STATE":return{DBPaymentPointer:t.data.paymentPointer};default:return e}},controls:{GET_PAYMENT_POINTER:function(e){return p.a.get(e.path,{headers:{"Content-Type":"application/json","X-WP-Nonce":window.wpApiSettings.nonce}})},POST_TO_DB:function(e){return p.a.post(fe,JSON.stringify(e.data),{headers:{"Content-Type":"application/json","X-WP-Nonce":window.wpApiSettings.nonce}})}},selectors:{selectPaymentPointer:function(e){return e}},resolvers:{selectPaymentPointer:l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xe.getPaymentPointer(fe);case 3:return t=e.sent,n=t.data.data.site_payment_pointer,e.abrupt("return",xe.setPaymentPointer(n));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",xe.setHTTPErrors(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))},actions:xe},_e=Object(I.a)(ke,Se);Object(w.a)(_e);var ve=function(){var e=Object(O.a)((function(e){return e(ke).selectPaymentPointer()})).DBPaymentPointer,t=Object(u.a)(ke).postPaymentPointer,n=Object(i.useState)(!1),r=Object(b.a)(n,2),a=r[0],s=r[1],c=Object(i.useState)(e),o=Object(b.a)(c,2),j=o[0],p=o[1],k=Object(i.useRef)();function x(){return(x=Object(d.a)(l.a.mark((function e(n){var i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(!1),n.preventDefault(),i={paymentPointer:k.current.value};try{t(i.paymentPointer),s(!0)}catch(r){console.error(r),s(!1)}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(i.useEffect)((function(){p(e)}),[e]),Object(f.jsxs)("div",{className:"wrap likecoin",children:[Object(f.jsx)(y,{}),a&&Object(f.jsx)(L,{text:"Settings Saved",className:"notice-success",handleNoticeDismiss:function(e){e.preventDefault(),s(!1)}}),Object(f.jsx)(he,{}),Object(f.jsxs)("form",{onSubmit:function(e){return x.apply(this,arguments)},children:[Object(f.jsx)(_,{title:"Web Monetization"}),Object(f.jsx)("table",{className:"form-table",role:"presentation",children:Object(f.jsx)("tbody",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{scope:"row",children:Object(f.jsx)("label",{for:"site_payment_pointer",children:Object(h.a)("Payment pointer","likecoin")})}),Object(f.jsxs)("td",{children:[Object(f.jsx)("input",{type:"text",placeholder:"$wallet.example.com/alice",value:j,ref:k,onChange:function(e){e.preventDefault();var t=e.target.value;p(t)}})," ",Object(f.jsx)("a",{rel:"noopener noreferrer",target:"_blank",href:"https://webmonetization.org/docs/ilp-wallets/",children:Object(h.a)("What is payment pointer?","likecoin")})]})]})})}),Object(f.jsx)(m,{})]})]})};var ge=function(e){return Object(f.jsx)("p",{children:Object(f.jsx)("strong",{children:e.text})})};var Le=function(){var e=Object(Q.a)(Object(h.a)("<Likecoin/> is a Decentralized Publishing Infrastructure. It reinvents the publishing industry with decentralized registry, rewards, editorial, and governance.","likecoin"),{Likecoin:Object(i.createElement)(Z,{text:Object(h.a)("Likecoin","likecoin"),linkAddress:"https://like.co"})}),t=Object(Q.a)(Object(h.a)("The heart of Decentralized Publishing is decentralized registry powered by <ISCN/>, a specification we drafted in collaboration with the industry. Inspired by ISBN for books, ISCN is a unique number assigned to content such as articles and images, and comes with metadata such as author, publisher, content address, license terms and creation footprint. Stored on <LikeCoinChain />, ISCN is immutable and censorship resilient. The content, on the other hand, is stored on <IPFS/> for tamper resistance and peer-to-peer distribution.","likecoin"),{ISCN:Object(i.createElement)(Z,{text:Object(h.a)("ISCN","likecoin"),linkAddress:"https://iscn.io"}),LikeCoinChain:Object(i.createElement)(Z,{text:Object(h.a)("LikeCoin chain","likecoin"),linkAddress:"https://likecoin.bigdipper.live/"}),IPFS:Object(i.createElement)(Z,{text:Object(h.a)("IPFS","likecoin"),linkAddress:"https://ipfs.io/"})}),n=Object(Q.a)(Object(h.a)("By simply attaching a LikeCoin button beneath your content and without setting up a paywall, every Like by readers is turned into measurable rewards in <LikeCoinTokens/>. The <CivicLiker/> movement encourages readers to contribute USD5/mo to reward creativity and journalism, while the matching fund, distributed according to the Likes of all users, doubles the rewarding pool. With decentralized rewards, every Like counts.","likecoin"),{LikeCoinTokens:Object(i.createElement)(Z,{text:Object(h.a)("LikeCoin tokens","likecoin"),linkAddress:"https://www.coingecko.com/en/coins/likecoin"}),CivicLiker:Object(i.createElement)(Z,{text:Object(h.a)("Civic Liker","likecoin"),linkAddress:"https://liker.land/civic"})}),r=Object(Q.a)(Object(h.a)("Not only is LikeCoin token a reward to creators and Content Jockeys, it also serves doubly as the governing token for the decentralized autonomous organization (DAO), namely the <RepublicOfLikerLand/>. Likers participate in liquid democracy by delegating their LikeCoin tokens to validators they trust, and freely switch among them without a fixed term of office. Issues such as default Content Jockeys, inflation rate and protocol updates require passing a corresponding <Proposal/> by the Republic.","likecoin"),{RepublicOfLikerLand:Object(i.createElement)(Z,{text:Object(h.a)("Republic of Liker Land","likecoin"),linkAddress:"https://likecoin.bigdipper.live"}),Proposal:Object(i.createElement)(Z,{text:Object(h.a)("proposal","likecoin"),linkAddress:"https://likecoin.bigdipper.live/proposalsc"})});return Object(f.jsxs)("div",{children:[Object(f.jsx)(y,{}),Object(f.jsxs)("div",{style:{textAlign:"left"},children:[Object(f.jsx)("iframe",{src:"https://github.com/sponsors/likecoin/card",title:"Sponsor likecoin",height:"225",width:"660",style:{overflow:"hidden",border:0}}),Object(f.jsx)("p",{children:e}),Object(f.jsx)(ge,{text:Object(h.a)("Decentralized Registry","likecoin")}),Object(f.jsx)("p",{children:t}),Object(f.jsx)(ge,{text:Object(h.a)("Decentralized Rewards","likecoin")}),Object(f.jsx)("p",{children:n}),Object(f.jsx)(ge,{text:Object(h.a)("Decentralized Editorials","likecoin")}),Object(f.jsx)("p",{children:Object(h.a)("Apart from rewarding creators as a Liker, readers may go further to become a Content Jockey. Content Jockeys help curate creative stories and insightful commentaries with Super Like, which is purposely designed to be scarce to cut out noise from signals. When a story gets popular, LikeCoin's unique distribution footprint rewards both creator and Content Jockey, creating an all win situation for the content ecosystem.","likecoin")}),Object(f.jsx)(ge,{text:Object(h.a)("Decentralized Governance","likecoin")}),Object(f.jsx)("p",{children:r}),Object(f.jsx)("iframe",{src:"https://github.com/sponsors/likecoin/button",title:"Sponsor likecoin",height:"35",width:"116",style:{overflow:"hidden",border:0}})]})]})};var ye=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsxs)(c.c,{children:[Object(f.jsx)(c.a,{path:"/",exact:!0,children:Object(f.jsx)(C,{})}),Object(f.jsx)(c.a,{path:"/likecoin-button",exact:!0,children:Object(f.jsx)($,{})}),Object(f.jsx)(c.a,{path:"/publish-setting",exact:!0,children:Object(f.jsx)(je,{})}),Object(f.jsx)(c.a,{path:"/web-monetization",exact:!0,children:Object(f.jsx)(ve,{})}),Object(f.jsx)(c.a,{path:"/sponsor-likecoin",exact:!0,children:Object(f.jsx)(Le,{})})]})})},Ie=(window.likecoinReactAppData||{}).appSelector,we=document.querySelector(Ie);we&&a.a.render(Object(f.jsx)(s.a,{children:Object(f.jsx)(ye,{})}),we)},68:function(e,t,n){},69:function(e,t,n){}},[[102,1,2]]]);
//# sourceMappingURL=main.a69c4ce3.chunk.js.map